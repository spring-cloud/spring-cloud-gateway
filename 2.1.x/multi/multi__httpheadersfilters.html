<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>8.&nbsp;HttpHeadersFilters</title><link rel="stylesheet" type="text/css" href="css/manual-multipage.css"><meta name="generator" content="DocBook XSL Stylesheets V1.79.1"><link rel="home" href="multi_spring-cloud-gateway.html" title="Spring Cloud Gateway"><link rel="up" href="multi_spring-cloud-gateway.html" title="Spring Cloud Gateway"><link rel="prev" href="multi__global_filters.html" title="7.&nbsp;Global Filters"><link rel="next" href="multi__tls_ssl.html" title="9.&nbsp;TLS / SSL"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.&nbsp;HttpHeadersFilters</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="multi__global_filters.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="multi__tls_ssl.html">Next</a></td></tr></table><hr></div><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a name="_httpheadersfilters" href="#_httpheadersfilters"></a>8.&nbsp;HttpHeadersFilters</h1></div></div></div><p>HttpHeadersFilters are applied to requests before sending them downstream, such as in the <code class="literal">NettyRoutingFilter</code>.</p><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_forwarded_headers_filter" href="#_forwarded_headers_filter"></a>8.1&nbsp;Forwarded Headers Filter</h2></div></div></div><p>The <code class="literal">Forwarded</code> Headers Filter creates a <code class="literal">Forwarded</code> header to send to the downstream service. It adds the <code class="literal">Host</code> header, scheme and port of the current request to any existing <code class="literal">Forwarded</code> header.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_removehopbyhop_headers_filter" href="#_removehopbyhop_headers_filter"></a>8.2&nbsp;RemoveHopByHop Headers Filter</h2></div></div></div><p>The <code class="literal">RemoveHopByHop</code> Headers Filter removes headers from forwarded requests. The default list of headers that is removed comes from the <a class="link" href="https://tools.ietf.org/html/draft-ietf-httpbis-p1-messaging-14#section-7.1.3" target="_top">IETF</a>.</p><div class="itemizedlist"><p class="title"><b>The default removed headers are:</b></p><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem">Connection</li><li class="listitem">Keep-Alive</li><li class="listitem">Proxy-Authenticate</li><li class="listitem">Proxy-Authorization</li><li class="listitem">TE</li><li class="listitem">Trailer</li><li class="listitem">Transfer-Encoding</li><li class="listitem">Upgrade</li></ul></div><p>To change this, set the <code class="literal">spring.cloud.gateway.filter.remove-non-proxy-headers.headers</code> property to the list of header names to remove.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="_xforwarded_headers_filter" href="#_xforwarded_headers_filter"></a>8.3&nbsp;XForwarded Headers Filter</h2></div></div></div><p>The <code class="literal">XForwarded</code> Headers Filter creates various a <code class="literal">X-Forwarded-*</code> headers to send to the downstream service. It users the <code class="literal">Host</code> header, scheme, port and path of the current request to create the various headers.</p><p>Creating of individual headers can be controlled by the following boolean properties (defaults to true):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.for.enabled</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.host.enabled</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.port.enabled</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.proto.enabled</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.prefix.enabled</code></li></ul></div><p>Appending multiple headers can be controlled by the following boolean properties (defaults to true):</p><div class="itemizedlist"><ul class="itemizedlist" style="list-style-type: disc; "><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.for.append</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.host.append</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.port.append</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.proto.append</code></li><li class="listitem"><code class="literal">spring.cloud.gateway.x-forwarded.prefix.append</code></li></ul></div></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="multi__global_filters.html">Prev</a>&nbsp;</td><td width="20%" align="center">&nbsp;</td><td width="40%" align="right">&nbsp;<a accesskey="n" href="multi__tls_ssl.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">7.&nbsp;Global Filters&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="multi_spring-cloud-gateway.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;9.&nbsp;TLS / SSL</td></tr></table></div></body></html>